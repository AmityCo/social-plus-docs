---
title: "Upgrading to Room-Based Livestreaming"
description: "Migrate from legacy Stream to the new Room-based livestreaming system for enhanced features and performance"
---

# Upgrading to Room-Based Livestreaming

<Info>
  **New Architecture, Better Experience**: The new Room-based livestreaming system replaces the legacy Stream feature, delivering significant improvements in video quality, latency, and interactive capabilities.
</Info>

## Why Upgrade?

The legacy Stream feature is being deprecated in favor of our new Room-based livestreaming system. Beyond the deprecation, there are compelling reasons to upgrade that will benefit both your development experience and your end users.

### Enhanced Video Quality

<CardGroup cols={2}>
  <Card title="Higher Resolutions" icon="expand">
    **Up to 1080p Full HD**
    - Support for SD (480p), HD (720p), and FHD (1080p)
    - Adaptive bitrate streaming for optimal quality
    - Professional-grade video encoding
  </Card>
  <Card title="Reduced Latency" icon="bolt">
    **Near Real-Time Streaming**
    - Low-latency mode for interactive broadcasts
    - 8-10 second latency in low-latency mode
    - Faster viewer-to-broadcaster interaction
  </Card>
</CardGroup>

### New Capabilities

<CardGroup cols={2}>
  <Card title="Co-Streaming" icon="users">
    **Multi-Host Broadcasting**
    
    The flagship feature of the new Room system enables multiple broadcasters to stream together in a single session:
    - Invite co-hosts to join your broadcast
    - Accept invitations to join as a co-host
    - Real-time audio/video synchronization between hosts
    - Collaborative stream management
    - Perfect for interviews, panel discussions, and collaborative content
  </Card>
  <Card title="Live Viewer Count" icon="eye">
    **Real-Time Audience Insights**
    
    Know exactly how many people are watching:
    - Real-time viewer count updates
    - Who's watching list to see active viewers
    - Viewer presence monitoring
    - Engagement tracking for analytics
  </Card>
  <Card title="Extended Duration" icon="clock">
    **Longer Broadcasts**
    
    Stream for longer periods:
    - Maximum duration increased to 6 hours (up from 3 hours)
    - Better support for long-form content
    - Events, workshops, and extended sessions
  </Card>
  <Card title="Comprehensive Analytics" icon="chart-line">
    **Deep Insights into Viewer Behavior**
    
    Unlock powerful analytics to understand your audience:
    - Total views and unique viewer counts
    - Watch minutes tracking with accurate duration
    - Average and peak concurrent viewers
    - Per-stream engagement metrics
    - Time-series viewership and engagement charts
  </Card>
</CardGroup>

### Powerful Analytics Dashboard

The new Room-based system includes a dedicated analytics dashboard that provides actionable insights into your livestream performance:

<CardGroup cols={2}>
  <Card title="Overview Metrics" icon="chart-pie">
    **At-a-Glance Performance**
    - Total livestreams created
    - Total views across all streams
    - Total unique viewers
    - Total minutes watched
    - Average minutes per stream
    - Average minutes per viewer
    - Period-over-period comparisons
  </Card>
  <Card title="Stream-Level Analytics" icon="magnifying-glass-chart">
    **Deep Dive into Each Stream**
    - Individual stream performance metrics
    - Peak concurrent viewers
    - Average concurrent viewers
    - Chat message counts
    - Reaction counts
    - Viewership trends over time
  </Card>
  <Card title="Engagement Tracking" icon="comments">
    **Understand Audience Interaction**
    - Real-time engagement metrics
    - Chat activity over time
    - Reaction patterns
    - Engagement rate calculations
    - Identify peak engagement moments
  </Card>
  <Card title="Export & Reporting" icon="file-export">
    **Data at Your Fingertips**
    - Export analytics to CSV
    - Date range filtering (up to 90 days)
    - Sortable stream tables
    - Custom report generation
    - Data for business decisions
  </Card>
</CardGroup>

<Tip>
  **Data-Driven Content Strategy**: Use analytics to identify your most engaging content, optimal streaming times, and audience preferences to grow your livestream viewership.
</Tip>

### Improved Reliability

- **Better Reconnection Handling**: Automatic reconnection with grace periods for temporary disconnections
- **Enhanced Moderation**: AI-powered content moderation with improved accuracy
- **Robust Infrastructure**: Built on LiveKit and Mux for professional-grade streaming reliability

## Migration Overview

The migration from Stream to Room is straightforward, with most changes being simple terminology updates. The new Room system maintains functional parity with the legacy Stream system while adding new capabilities.

### Terminology Changes

| Legacy (Stream) | New (Room) | Description |
|-----------------|------------|-------------|
| `AmityStream` | `AmityRoom` | The main livestream entity |
| `AmityStreamRepository` | `AmityRoomRepository` | Repository for stream operations |
| `streamId` | `roomId` | Unique identifier for the stream |
| `dataType: 'stream'` | `dataType: 'room'` | Post data type for livestream posts |

## SDK Migration

### Repository Changes

Replace Stream repository calls with Room repository equivalents:

<CodeGroup>
```swift iOS
// Legacy Stream
let streamRepository = AmityStreamRepository(client: client)
let stream = try await streamRepository.getStream(streamId: "stream-123")

// New Room
let roomRepository = AmityRoomRepository(client: client)
let room = try await roomRepository.getRoom(roomId: "room-123")
```

```kotlin Android
// Legacy Stream
val streamRepository = AmityStreamRepository(client)
streamRepository.getStream(streamId = "stream-123")
    .subscribe { stream -> /* handle stream */ }

// New Room
val roomRepository = AmityRoomRepository(client)
roomRepository.getRoom(roomId = "room-123")
    .subscribe { room -> /* handle room */ }
```

```typescript TypeScript
// Legacy Stream
import { StreamRepository } from '@amityco/ts-sdk';
const stream = await StreamRepository.getStream('stream-123');

// New Room
import { RoomRepository } from '@amityco/ts-sdk';
const room = await RoomRepository.getRoom('room-123');
```
</CodeGroup>

### Creating Livestream Posts

When creating posts with livestream content, use `roomId` instead of `streamId`:

<CodeGroup>
```swift iOS
// Legacy Stream Post
let post = try await postRepository.createPost(
    targetType: .community,
    targetId: communityId,
    dataType: .stream,
    data: ["streamId": streamId]
)

// New Room Post
let post = try await postRepository.createPost(
    targetType: .community,
    targetId: communityId,
    dataType: .room,
    data: ["roomId": roomId]
)
```

```kotlin Android
// Legacy Stream Post
postRepository.createPost(
    targetType = AmityPost.TargetType.COMMUNITY,
    targetId = communityId,
    dataType = "stream",
    data = mapOf("streamId" to streamId)
)

// New Room Post
postRepository.createPost(
    targetType = AmityPost.TargetType.COMMUNITY,
    targetId = communityId,
    dataType = "room",
    data = mapOf("roomId" to roomId)
)
```

```typescript TypeScript
// Legacy Stream Post
await PostRepository.createPost({
    targetType: 'community',
    targetId: communityId,
    dataType: 'stream',
    data: { streamId: streamId }
});

// New Room Post
await PostRepository.createPost({
    targetType: 'community',
    targetId: communityId,
    dataType: 'room',
    data: { roomId: roomId }
});
```
</CodeGroup>

### Entity Property Mapping

Most properties map directly with name changes:

| Legacy Stream Property | New Room Property |
|------------------------|-------------------|
| `stream.streamId` | `room.roomId` |
| `stream.title` | `room.title` |
| `stream.description` | `room.description` |
| `stream.status` | `room.status` |
| `stream.isLive` | `room.status == .live` |
| `stream.thumbnailFileId` | `room.thumbnailFileId` |

### New Room-Only Features

The Room system introduces new capabilities not available in the legacy Stream. These features are ready to use once you migrate:

| Feature | Description | Documentation |
|---------|-------------|---------------|
| **Co-Host Management** | Invite co-hosts, accept invitations, manage participants during broadcasts | [Co-Host Guide](/social-plus-sdk/video-new/broadcasting/co-host-management) |
| **Live Viewer Count** | Real-time viewer count and who's watching list | [Live Viewing](/social-plus-sdk/video-new/broadcasting/live-viewing) |
| **Watch Analytics** | Automatic watch session tracking with accurate duration | [Analytics](/social-plus-sdk/video-new/analytics/overview) |

## UIKit Migration

<Tip>
  **Zero Code Changes Required**: If you're using social.plus UIKit, upgrading is automatic. Simply update to the latest UIKit version and you're done!
</Tip>

### Automatic Migration

When you upgrade to the latest version of UIKit:

1. **New Livestream Creation**: All new livestream posts will automatically use the Room-based system
2. **Legacy Support**: Posts created with the legacy Stream system remain fully viewable
3. **Seamless Experience**: Users won't notice any difference—the UI remains the same

### Open Source UIKit

If you're using our open-source UIKit:

1. Pull the latest changes from the repository
2. The Room integration is included automatically
3. All new livestream functionality is available out of the box

### What's Included Automatically

- ✅ Room creation and broadcasting UI
- ✅ Co-streaming interface and co-host management
- ✅ Live viewer count display
- ✅ Watch minutes analytics tracking
- ✅ Backward compatibility with legacy Stream posts

## Console Updates

The Admin Console has been updated with dedicated Room management and a powerful analytics dashboard:

### New Room Management Section

- **Dedicated Room Dashboard**: Separate section for Room-based livestreams
- **Legacy Stream Section**: Existing streams remain accessible in their original location
- **Enhanced Moderation Tools**: Improved controls for Room-based broadcasts

### Livestream Analytics Dashboard

The new analytics dashboard provides comprehensive insights into your livestream performance:

| Feature | Description |
|---------|-------------|
| **Overview Metrics** | Total streams, views, unique viewers, and watch minutes with trend comparisons |
| **Stream Table** | Sortable list of all streams with key metrics (views, viewers, duration, engagement) |
| **Stream Detail View** | Deep dive into individual stream performance with time-series charts |
| **Viewership Charts** | Visualize concurrent viewers throughout the stream duration |
| **Engagement Charts** | Track chat messages and reactions over time |
| **CSV Export** | Export analytics data for custom reporting and analysis |

### Key Console Features

| Feature | Description |
|---------|-------------|
| Room List | View and manage all Room-based livestreams |
| Live Monitoring | Real-time view of active broadcasts |
| Co-Host Management | See and manage co-host participants |
| Analytics Dashboard | View watch time and engagement metrics |
| Moderation Controls | Terminate streams, manage flagged content |

## Migration Checklist

<Steps>
  <Step title="Update SDK Version">
    Ensure you're using the latest SDK version that supports Room-based livestreaming.
  </Step>
  <Step title="Update Code References">
    Replace `Stream` references with `Room` equivalents in your codebase.
  </Step>
  <Step title="Update UIKit (if applicable)">
    Upgrade to the latest UIKit version for automatic Room support.
  </Step>
  <Step title="Test New Features">
    Verify co-streaming, viewer count, and analytics work as expected.
  </Step>
  <Step title="Review Console">
    Familiarize yourself with the new Room management section in the console.
  </Step>
</Steps>

## Backward Compatibility

<Note>
  **Legacy Content Preserved**: All existing Stream-based posts and recordings remain accessible. Users can continue viewing legacy content without any issues.
</Note>

- Legacy Stream posts continue to work and display correctly
- Recorded content from legacy streams remains playable
- No data migration required for existing content
- Gradual transition at your own pace

## Best Practices

<AccordionGroup>
  <Accordion title="Gradual Migration" icon="stairs">
    You don't need to migrate everything at once:
    - Start by enabling Room-based streaming for new content
    - Legacy streams continue to function normally
    - Migrate custom implementations as resources allow
  </Accordion>
  
  <Accordion title="Testing Co-Streaming" icon="vial">
    Before rolling out co-streaming to users:
    - Test with internal team members first
    - Verify audio/video sync across different devices
    - Test invitation and acceptance flows
    - Ensure moderation tools work as expected
  </Accordion>
  
  <Accordion title="Leveraging New Features" icon="rocket">
    Make the most of the new capabilities:
    - Promote co-streaming for collaborative content
    - Use viewer count to engage audiences
    - Review analytics to understand viewing patterns
  </Accordion>
</AccordionGroup>

## Deprecation Timeline

<Warning>
  The legacy Stream feature is deprecated and will be removed in a future release. We recommend migrating to the Room-based system as soon as possible to take advantage of new features and continued support.
</Warning>

| Phase | Timeline | Details |
|-------|----------|---------|
| **Current** | Now | Room-based streaming available, Stream deprecated |
| **Maintenance Mode** | Ongoing | Stream receives security fixes only, no new features |
| **End of Support** | TBA | Stream feature will be removed |

## Need Help?

<CardGroup cols={3}>
  <Card title="Room Documentation" href="/social-plus-sdk/video-new/broadcasting/overview" icon="book">
    Complete Room broadcasting documentation
  </Card>
  <Card title="Co-Host Guide" href="/social-plus-sdk/video-new/broadcasting/co-host-management" icon="users">
    Learn about co-streaming capabilities
  </Card>
  <Card title="Developer Forum" href="/social-plus-sdk/developer-forum" icon="comments">
    Get help from the community
  </Card>
</CardGroup>
