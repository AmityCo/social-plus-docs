---
title: "Clip Posts"
description: "Create short-form video posts with rich media support and interactive features"
---

Create engaging video content with support for captions, metadata, and interactive features. Clip posts enable sharing of video moments up to 15 minutes long with rich engagement capabilities.

<CardGroup cols={2}>
  <Card title="Video Content" icon="video">
    Support for videos up to 15 minutes and 2GB file size
  </Card>
  <Card title="Multiple Formats" icon="file-video">
    Support for 3gp, avi, f4v, flv, m4v, mov, mp4, ogv, 3g2, wmv, vob, webm, mkv
  </Card>
</CardGroup>

## Overview

Clip posts enable sharing of video content with rich features:

- **Video Duration**: Up to 15 minutes of video content
- **Rich Captions**: Text descriptions with mentions and hashtags
- **Interactive Features**: Users can react and comment on clips
- **Metadata Support**: Custom data for enhanced functionality

| Requirement      | Limit                                                            | Notes                       |
| ---------------- | ---------------------------------------------------------------- | --------------------------- |
| **File Size**    | Up to 2GB per clip                                               | Maximum supported file size |
| **Duration**     | Maximum 15 minutes                                               | Per single clip             |
| **File Formats** | 3gp, avi, f4v, flv, m4v, mov, mp4, ogv, 3g2, wmv, vob, webm, mkv | Multiple format support     |

<Warning>
  Clips must be uploaded first before creating the post. Prior to creating a
  clip post, upload the video clip to obtain the clip data that will be used in
  post creation.
</Warning>

<Steps>
  <Step title="Upload Clip">
    Use the File Repository to upload your video clip and get file ID
  </Step>
  <Step title="Create Post">
    Use the file ID in your clip post creation request
  </Step>
  <Step title="Handle Response">
    Process the response and handle any errors
  </Step>
</Steps>

## Parameters

| Parameter    | Type   | Required | Description                                         |
| ------------ | ------ | -------- | --------------------------------------------------- |
| `text`       | String | ✅       | Text content of the post (max 20,000 characters)    |
| `clip`       | Object | ✅       | Clip data obtained from upload process              |
| `targetType` | Enum   | ✅       | Target type (`user` or `community`)                 |
| `targetId`   | String | ✅       | Target ID (user id or community id)                 |
| `metadata`   | Object | ❌       | Additional properties for custom fields or mentions |

<CodeGroup>
```swift iOS
func createClipPost(clip: AmityVideoData, text: String) async {
    do {
        let post = try await postRepository.createPost()
            .targetUser(userId: "targetUserId") // or targetCommunity for community posts
            .clip(clip: clip)
            .text(text)
            .metadata([:]) // optional metadata
            .build()
            .create()
        
        // Handle successful post creation
        print("Clip post created successfully: \(post.postId)")
    } catch {
        // Handle error
        print("Failed to create clip post: \(error)")
    }
}
```

```kotlin Android
fun createClipPost(
    postRepository: AmityPostRepository,
    clip: AmityVideo,
    text: String
) {
    postRepository.createPost()
        .targetUser(userId = "targetUserId") // or targetCommunity for community posts
        .clip(clip = clip)
        .text(text)
        .metadata(mapOf()) // optional metadata
        .build()
        .post()
        .doOnSuccess { post: AmityPost ->
            // Handle successful post creation
            println("Clip post created successfully: ${post.postId}")
        }
        .doOnError { error ->
            // Handle error
            println("Failed to create clip post: $error")
        }
        .subscribe()
}
```

```typescript TypeScript
import { PostRepository } from "@amityco/ts-sdk";

async function createClipPost(
  clipData: any,
  text: string,
  targetId: string,
  targetType: "user" | "community"
): Promise<void> {
  try {
    const post = await PostRepository.createPost({
      targetType: targetType,
      targetId: targetId,
      data: {
        text: text,
      },
      dataType: "clip",
      attachments: [clipData],
      metadata: {}, // optional metadata
    });

    // Handle successful post creation
    console.log("Clip post created successfully:", post.data.postId);
  } catch (error) {
    // Handle error
    console.error("Failed to create clip post:", error);
  }
}
```

```dart Flutter
void createClipPost(AmityVideo clip, String text) {
  AmitySocialClient.newPostRepository()
      .createPost()
      .targetUser('targetUserId') // or targetCommunity for community posts
      .clip(clip)
      .text(text)
      .metadata({}) // optional metadata
      .post()
      .then((AmityPost post) {
            // Handle successful post creation
            print('Clip post created successfully: ${post.postId}');
          })
      .onError((error, stackTrace) {
            // Handle error
            print('Failed to create clip post: $error');
          });
}
```

</CodeGroup>

## Best Practices

<AccordionGroup>
  <Accordion title="Video Optimization">
    - Compress videos before upload to reduce file size - Use appropriate
    resolution for target platform - Optimize for mobile viewing experience -
    Implement progress indicators for uploads
  </Accordion>

{" "}

<Accordion title="User Experience">
  - Show video preview before posting - Provide video editing capabilities -
  Handle upload failures gracefully with retry options - Implement smooth
  playback experience
</Accordion>

  <Accordion title="Performance">
    - Preload video thumbnails - Cache uploaded clips to avoid re-uploads -
    Implement lazy loading for video content - Use appropriate video loading
    libraries
  </Accordion>
</AccordionGroup>

## Troubleshooting

<AccordionGroup>
  <Accordion title="Video Upload Failures" icon="upload">
    **Problem**: Clips fail to upload or post creation fails
    
    **Solutions**:
    - Check file size (must be under 2GB)
    - Verify supported format (3gp, avi, f4v, flv, m4v, mov, mp4, ogv, 3g2, wmv, vob, webm, mkv)
    - Ensure clip duration is under 15 minutes
    - Ensure stable internet connection
    - Implement retry logic with exponential backoff
    
    ```typescript
    try {
      const clipData = await uploadClip(clipFile);
      await createClipPost(clipData, text, targetId, targetType);
    } catch (error) {
      if (error.code === 'FILE_TOO_LARGE') {
        // File exceeds 2GB limit
      } else if (error.code === 'DURATION_TOO_LONG') {
        // Clip exceeds 15 minute limit
      } else if (error.code === 'NETWORK_ERROR') {
        // Implement retry logic
      }
    }
    ```
  </Accordion>
  
  <Accordion title="Playback Issues" icon="play">
    **Problem**: Videos don't play or have poor quality
    
    **Solutions**:
    - Use supported video codecs
    - Optimize video compression settings
    - Implement proper video player configuration
    - Test on different devices and network conditions
    
    ```typescript
    // Recommended video settings
    const videoSettings = {
      maxFileSize: '2GB',
      maxDuration: '15 minutes',
      supportedFormats: ['3gp', 'avi', 'f4v', 'flv', 'm4v', 'mov', 'mp4', 'ogv', '3g2', 'wmv', 'vob', 'webm', 'mkv']
    };
    ```
  </Accordion>
  
  <Accordion title="Performance Issues" icon="gauge">
    **Problem**: App becomes slow or crashes with video content
    
    **Solutions**:
    - Implement video compression before upload
    - Use video loading libraries with memory management
    - Optimize video resolution and bitrate
    - Clear video cache periodically
    
    ```typescript
    // Example: Optimize video before upload
    const optimizedVideo = await optimizeVideo(originalVideo, {
      maxResolution: { width: 720, height: 1280 },
      quality: 0.8,
      maxBitrate: '1500k'
    });
    ```
  </Accordion>
</AccordionGroup>

<Info>
  **Clip Format**: Clips are optimized for short-form video content and provide
  enhanced engagement features compared to regular video posts.
</Info>

## Common Use Cases

- **Social Moments**: Share engaging video moments up to 15 minutes
- **Product Demos**: Detailed product demonstrations and features
- **Tutorials**: Comprehensive how-to videos and educational content
- **Entertainment**: Creative video content and storytelling
- **Behind-the-Scenes**: Extended glimpses into processes or events
- **Presentations**: Video presentations and announcements

## Related Topics

<CardGroup cols={3}>
  <Card
    title="Video Upload"
    href="/social-plus-sdk/core-concepts/content-handling/files-images-and-videos/video-handling"
    icon="upload"
  >
    Learn how to upload and manage videos before creating posts
  </Card>
  <Card title="Video Posts" href="./video-post" icon="video">
    Create traditional video posts with extended features
  </Card>
  <Card title="Image Posts" href="./image-post" icon="image">
    Share image content with rich media support
  </Card>
</CardGroup>
