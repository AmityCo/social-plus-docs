---
title: "Content Flagging"
description: "Report inappropriate posts and comments with comprehensive flagging system supporting iOS, Android, TypeScript, and Flutter platforms"
---

Enable community self-moderation with robust content flagging capabilities. Allow users to report inappropriate posts and comments with detailed reporting reasons, helping maintain a safe and welcoming environment for all community members.

<CardGroup cols={3}>
  <Card title="Multi-Content Support" icon="flag">
    Flag both posts and comments with the same comprehensive system
  </Card>
  <Card title="Cross-Platform Ready" icon="mobile-screen">
    Full support for iOS, Android, TypeScript, and Flutter implementations
  </Card>
  <Card title="Detailed Reporting" icon="list">
    9 specific flag reasons plus custom explanations for accurate reporting
  </Card>
  <Card title="Admin Review" icon="shield-check">
    Flagged content appears in Admin Console for moderator review and action
  </Card>
</CardGroup>

<Info>
Content flagging supports **detailed reporting reasons** with optional explanations, **flag status tracking** for users, **cross-platform implementations** across iOS, Android, TypeScript, and Flutter, and **administrative review** through the Social Plus Console.
</Info>

## Flag Reasons

All content types support the same comprehensive set of flagging reasons to ensure consistent moderation across your application.

| Flag Reason | Description | Use Cases |
|-------------|-------------|-----------|
| **Community Guidelines** | Against community guidelines | General violations of established community rules |
| **Harassment or Bullying** | Harassment or bullying | Targeted abuse, intimidation, or bullying behavior |
| **Self-harm or Suicide** | Self-harm or suicide | Content promoting or depicting self-harm |
| **Violence or Threatening** | Violence or threatening content | Violent imagery, threats, or incitement to violence |
| **Restricted Items** | Selling and promoting restricted items | Illegal sales or promotion of prohibited items |
| **Sexual Content** | Sexual message or nudity | Inappropriate sexual content or nudity |
| **Spam or Scams** | Spam or scams | Unwanted promotional content or fraudulent schemes |
| **False Information** | False information or misinformation | Deliberately misleading or false content |
| **Others** | Custom explanation (Max 300 characters) | Any other violations with detailed explanation |

<Warning>
Flag reasons are available on iOS, Android, and TypeScript platforms. Other platforms may have limited flagging capabilities.
</Warning>

## Flag Posts

Report inappropriate posts to community moderators and administrators with detailed flagging reasons and optional explanations.

### Flag a Post

<CodeGroup>
```swift iOS
func flagPost(postId: String, reason: AmityContentFlagReason) async {
    do {
        let success = try await postRepository.flagPost(
            withId: postId,
            reason: reason
        )
        
        if success {
            print("Post flagged successfully")
            showFlagConfirmation()
        }
        
    } catch AmityError.alreadyFlagged {
        print("Post has already been flagged by this user")
        showAlreadyFlaggedMessage()
    } catch AmityError.permissionDenied {
        print("Insufficient permissions to flag content")
    } catch {
        print("Error flagging post: \(error)")
    }
}

// Usage example with user confirmation
func showFlagPostDialog(for post: AmityPost) {
    let alert = UIAlertController(
        title: "Report Post",
        message: "Why are you reporting this post?",
        preferredStyle: .actionSheet
    )
    
    alert.addAction(UIAlertAction(title: "Community Guidelines", style: .default) { _ in
        Task {
            await flagPost(postId: post.postId, reason: .communityGuidelines)
        }
    })
    
    alert.addAction(UIAlertAction(title: "Harassment or Bullying", style: .default) { _ in
        Task {
            await flagPost(postId: post.postId, reason: .harassmentOrBullying)
        }
    })
    
    alert.addAction(UIAlertAction(title: "Spam or Scams", style: .default) { _ in
        Task {
            await flagPost(postId: post.postId, reason: .spamOrScams)
        }
    })
    
    alert.addAction(UIAlertAction(title: "Cancel", style: .cancel))
    present(alert, animated: true)
}
```

```kotlin Android
fun flagPost(
    postRepository: AmityPostRepository,
    post: AmityPost,
    reason: AmityContentFlagReason
) {
    postRepository.flagPost(
        postId = post.getPostId(),
        reason = reason
    )
    .doOnComplete {
        println("Post flagged successfully")
        showFlagConfirmation()
    }
    .doOnError { error ->
        when (error) {
            is AmityException.AlreadyFlagged -> {
                println("Post has already been flagged by this user")
                showAlreadyFlaggedMessage()
            }
            is AmityException.PermissionDenied -> {
                println("Insufficient permissions to flag content")
            }
            else -> {
                println("Error flagging post: ${error.message}")
            }
        }
    }
    .subscribe()
}

// Usage example with user confirmation
fun showFlagPostDialog(post: AmityPost) {
    val reasons = arrayOf(
        "Community Guidelines",
        "Harassment or Bullying", 
        "Spam or Scams",
        "False Information",
        "Other"
    )
    
    AlertDialog.Builder(context)
        .setTitle("Report Post")
        .setItems(reasons) { _, which ->
            val flagReason = when (which) {
                0 -> AmityContentFlagReason.COMMUNITY_GUIDELINES
                1 -> AmityContentFlagReason.HARASSMENT_OR_BULLYING
                2 -> AmityContentFlagReason.SPAM_OR_SCAMS
                3 -> AmityContentFlagReason.FALSE_INFORMATION
                4 -> AmityContentFlagReason.OTHERS
                else -> AmityContentFlagReason.COMMUNITY_GUIDELINES
            }
            flagPost(postRepository, post, flagReason)
        }
        .show()
}
```

```typescript TypeScript
import { PostRepository, ContentFlagReason } from '@amityco/ts-sdk';

class PostFlaggingManager {
  
  // Flag post with specific reason
  async flagPost(
    postId: string,
    reason: ContentFlagReason,
    explanation?: string
  ): Promise<boolean> {
    try {
      await PostRepository.flagPost({
        postId,
        reason,
        explanation
      });
      
      console.log('Post flagged successfully');
      return true;
    } catch (error) {
      console.error('Failed to flag post:', error);
      throw error;
    }
  }

  // Usage example with user confirmation
  async showFlagPostDialog(postId: string): Promise<void> {
    const reasons = [
      { label: 'Community Guidelines', value: ContentFlagReason.CommunityGuidelines },
      { label: 'Harassment or Bullying', value: ContentFlagReason.HarassmentOrBullying },
      { label: 'Spam or Scams', value: ContentFlagReason.SpamOrScams },
      { label: 'False Information', value: ContentFlagReason.FalseInformation },
      { label: 'Other', value: ContentFlagReason.Others }
    ];

    // Implementation depends on your UI framework
    const selectedReason = await showReasonSelector(reasons);
    if (selectedReason) {
      await this.flagPost(postId, selectedReason);
    }
  }
}
```

```dart Flutter
import 'package:amity_sdk/amity_sdk.dart';

class PostFlaggingManager {
  
  // Flag post with reason
  Future<bool> flagPost(
    String postId, {
    String? explanation,
  }) async {
    try {
      await AmitySocialClient.newPostRepository()
          .flagPost(postId, explanation: explanation);
      
      print('Post flagged successfully');
      return true;
    } catch (error) {
      print('Failed to flag post: $error');
      return false;
    }
  }

  // Usage example with user confirmation
  Future<void> showFlagPostDialog(BuildContext context, String postId) async {
    final reasons = [
      'Community Guidelines',
      'Harassment or Bullying',
      'Spam or Scams',
      'False Information',
      'Other'
    ];

    await showDialog(
      context: context,
      builder: (context) => AlertDialog(
        title: Text('Report Post'),
        content: Column(
          mainAxisSize: MainAxisSize.min,
          children: reasons.map((reason) => 
            ListTile(
              title: Text(reason),
              onTap: () {
                Navigator.of(context).pop();
                flagPost(postId, explanation: reason);
              },
            )
          ).toList(),
        ),
      ),
    );
  }
}
```
</CodeGroup>

### Unflag a Post

<CodeGroup>
```swift iOS
func unflagPost(postId: String) async {
    do {
        let success = try await postRepository.unflagPost(withId: postId)
        
        if success {
            print("Post unflagged successfully")
            showUnflagConfirmation()
        }
        
    } catch AmityError.notFlagged {
        print("Post was not previously flagged by this user")
    } catch {
        print("Error unflagging post: \(error)")
    }
}

// Usage example
func handleUnflagPost(for post: AmityPost) {
    let alert = UIAlertController(
        title: "Remove Report",
        message: "Are you sure you want to remove your report for this post?",
        preferredStyle: .alert
    )
    
    alert.addAction(UIAlertAction(title: "Cancel", style: .cancel))
    alert.addAction(UIAlertAction(title: "Remove Report", style: .default) { _ in
        Task {
            await unflagPost(postId: post.postId)
        }
    })
    
    present(alert, animated: true)
}
```

```kotlin Android
fun unflagPost(post: AmityPost) {
    post.report()
        .unflag()
        .doOnComplete {
            println("Post unflagged successfully")
            showUnflagConfirmation()
        }
        .doOnError { error ->
            when (error) {
                is AmityException.NotFlagged -> {
                    println("Post was not previously flagged by this user")
                }
                else -> {
                    println("Error unflagging post: ${error.message}")
                }
            }
        }
        .subscribe()
}

// Usage example
fun handleUnflagPost(post: AmityPost) {
    AlertDialog.Builder(context)
        .setTitle("Remove Report")
        .setMessage("Are you sure you want to remove your report for this post?")
        .setNegativeButton("Cancel", null)
        .setPositiveButton("Remove Report") { _, _ ->
            unflagPost(post)
        }
        .show()
}
```

```typescript TypeScript
class PostFlaggingManager {
  
  // Unflag a previously flagged post
  async unflagPost(postId: string): Promise<boolean> {
    try {
      await PostRepository.unflagPost(postId);
      console.log('Post unflagged successfully');
      return true;
    } catch (error) {
      console.error('Failed to unflag post:', error);
      throw error;
    }
  }

  // Toggle flag status
  async toggleFlag(
    postId: string,
    reason: ContentFlagReason = ContentFlagReason.Others,
    explanation?: string
  ): Promise<boolean> {
    const isFlagged = await this.isFlaggedByMe(postId);
    
    if (isFlagged) {
      return await this.unflagPost(postId);
    } else {
      return await this.flagPost(postId, reason, explanation);
    }
  }
}
```

```dart Flutter
class PostFlaggingManager {
  
  // Unflag a previously flagged post
  Future<bool> unflagPost(String postId) async {
    try {
      await AmitySocialClient.newPostRepository()
          .unflagPost(postId);
      
      print('Post unflagged successfully');
      return true;
    } catch (error) {
      print('Failed to unflag post: $error');
      return false;
    }
  }

  // Toggle flag status
  Future<bool> toggleFlag(String postId, {String? explanation}) async {
    final isFlagged = await isFlaggedByMe(postId);
    
    if (isFlagged == null) {
      print('Could not determine flag status');
      return false;
    }
    
    if (isFlagged) {
      return await unflagPost(postId);
    } else {
      return await flagPost(postId, explanation: explanation);
    }
  }
}
```
</CodeGroup>

### Check Post Flag Status

<CodeGroup>
```swift iOS
func checkPostFlagStatus(postId: String) async {
    do {
        let isFlagged = try await postRepository.isFlaggedByMe(withId: postId)
        
        if isFlagged {
            print("Post is flagged by current user")
            showUnflagOption()
        } else {
            print("Post is not flagged by current user")
            showFlagOption()
        }
        
    } catch {
        print("Error checking flag status: \(error)")
    }
}

// Usage in UI setup
func setupPostActionButtons(for post: AmityPost) {
    Task {
        await checkPostFlagStatus(postId: post.postId)
    }
}
```

```kotlin Android
fun checkPostFlagStatus(post: AmityPost) {
    val isFlagged = post.isFlaggedByMe
    
    if (isFlagged) {
        println("Post is flagged by current user")
        showUnflagOption()
    } else {
        println("Post is not flagged by current user") 
        showFlagOption()
    }
}

// Usage in UI setup
fun setupPostActionButtons(post: AmityPost) {
    checkPostFlagStatus(post)
}
```

```typescript TypeScript
class PostFlaggingManager {
  
  // Check if current user flagged the post
  async isFlaggedByMe(postId: string): Promise<boolean> {
    try {
      const isFlagged = await PostRepository.isFlaggedByMe(postId);
      console.log(`Post flagged by current user: ${isFlagged}`);
      return isFlagged;
    } catch (error) {
      console.error('Error checking flag status:', error);
      throw error;
    }
  }

  // Setup UI based on flag status
  async setupPostActionButtons(postId: string): Promise<void> {
    try {
      const isFlagged = await this.isFlaggedByMe(postId);
      
      if (isFlagged) {
        console.log("Post is flagged by current user");
        this.showUnflagOption();
      } else {
        console.log("Post is not flagged by current user");
        this.showFlagOption();
      }
    } catch (error) {
      console.error('Error setting up action buttons:', error);
    }
  }
}
```

```dart Flutter
class PostFlaggingManager {
  
  // Check if current user flagged the post
  Future<bool?> isFlaggedByMe(String postId) async {
    try {
      final isFlagged = await AmitySocialClient.newPostRepository()
          .isFlaggedByMe(postId);
      
      print('Post flagged by current user: $isFlagged');
      return isFlagged;
    } catch (error) {
      print('Error checking flag status: $error');
      return null;
    }
  }

  // Setup UI based on flag status
  Future<void> setupPostActionButtons(String postId) async {
    final isFlagged = await isFlaggedByMe(postId);
    
    if (isFlagged == null) {
      print('Could not determine flag status');
      return;
    }
    
    if (isFlagged) {
      print("Post is flagged by current user");
      showUnflagOption();
    } else {
      print("Post is not flagged by current user");
      showFlagOption();
    }
  }
}
```
</CodeGroup>

## Flag Comments

Report inappropriate comments with the same comprehensive flagging system used for posts, ensuring consistent moderation across all content types.

### Flag a Comment

<CodeGroup>
```swift iOS
func flagComment(commentId: String, reason: AmityContentFlagReason) async {
    do {
        let success = try await commentRepository.flagComment(
            withId: commentId,
            reason: reason
        )
        
        if success {
            print("Comment flagged successfully")
            showFlagConfirmation()
        }
        
    } catch AmityError.alreadyFlagged {
        print("Comment has already been flagged by this user")
        showAlreadyFlaggedMessage()
    } catch AmityError.permissionDenied {
        print("Insufficient permissions to flag content")
    } catch {
        print("Error flagging comment: \(error)")
    }
}

// Usage example with contextual flagging
func showFlagCommentDialog(for comment: AmityComment) {
    let alert = UIAlertController(
        title: "Report Comment",
        message: "Why are you reporting this comment?",
        preferredStyle: .actionSheet
    )
    
    alert.addAction(UIAlertAction(title: "Harassment or Bullying", style: .default) { _ in
        Task {
            await flagComment(commentId: comment.commentId, reason: .harassmentOrBullying)
        }
    })
    
    alert.addAction(UIAlertAction(title: "Spam or Scams", style: .default) { _ in
        Task {
            await flagComment(commentId: comment.commentId, reason: .spamOrScams)
        }
    })
    
    alert.addAction(UIAlertAction(title: "Cancel", style: .cancel))
    present(alert, animated: true)
}
```

```kotlin Android
fun flagComment(comment: AmityComment, reason: AmityContentFlagReason) {
    comment.report()
        .flag(reason)
        .doOnComplete {
            println("Comment flagged successfully")
            showFlagConfirmation()
        }
        .doOnError { error ->
            when (error) {
                is AmityException.AlreadyFlagged -> {
                    println("Comment has already been flagged by this user")
                    showAlreadyFlaggedMessage()
                }
                is AmityException.PermissionDenied -> {
                    println("Insufficient permissions to flag content")
                }
                else -> {
                    println("Error flagging comment: ${error.message}")
                }
            }
        }
        .subscribe()
}

// Usage example with contextual flagging
fun showFlagCommentDialog(comment: AmityComment) {
    val reasons = arrayOf(
        "Harassment or Bullying",
        "Inappropriate Content", 
        "Spam or Scams",
        "False Information"
    )
    
    AlertDialog.Builder(context)
        .setTitle("Report Comment")
        .setItems(reasons) { _, which ->
            val flagReason = when (which) {
                0 -> AmityContentFlagReason.HARASSMENT_OR_BULLYING
                1 -> AmityContentFlagReason.SEXUAL_CONTENT_OR_NUDITY
                2 -> AmityContentFlagReason.SPAM_OR_SCAMS
                3 -> AmityContentFlagReason.FALSE_INFORMATION
                else -> AmityContentFlagReason.COMMUNITY_GUIDELINES
            }
            flagComment(comment, flagReason)
        }
        .show()
}
```

```typescript TypeScript
import { CommentRepository, AmityContentFlagReason } from '@amityco/ts-sdk';

interface FlagCommentOptions {
  commentId: string;
  reason: AmityContentFlagReason;
  customDescription?: string;
}

class CommentModerationService {
  
  // Flag a comment with reason
  async flagComment(options: FlagCommentOptions): Promise<boolean> {
    const { commentId, reason, customDescription } = options;
    
    try {
      let flagReason = reason;
      
      // Handle custom reason with description
      if (reason === AmityContentFlagReason.Others && customDescription) {
        flagReason = AmityContentFlagReason.Others;
        // Note: Custom description handling depends on SDK implementation
      }
      
      const result = await CommentRepository.flagComment(commentId, flagReason);
      console.log('Comment flagged successfully');
      return result;
      
    } catch (error) {
      console.error('Failed to flag comment:', error);
      throw error;
    }
  }

  // Usage example with contextual flagging
  async showFlagCommentDialog(commentId: string): Promise<void> {
    const reasons = [
      { label: 'Harassment or Bullying', value: AmityContentFlagReason.HarassmentOrBullying },
      { label: 'Inappropriate Content', value: AmityContentFlagReason.SexualContentOrNudity },
      { label: 'Spam or Scams', value: AmityContentFlagReason.SpamOrScams },
      { label: 'False Information', value: AmityContentFlagReason.FalseInformation }
    ];

    // Implementation depends on your UI framework
    const selectedReason = await showReasonSelector(reasons);
    if (selectedReason) {
      await this.flagComment({ commentId, reason: selectedReason });
    }
  }
}
```

```dart Flutter
import 'package:amity_sdk/amity_sdk.dart';

enum CommentFlagReason {
  communityGuidelines,
  harassmentOrBullying,
  selfHarmOrSuicide,
  violenceOrThreateningContent,
  sellingRestrictedItems,
  sexualContentOrNudity,
  spamOrScams,
  falseInformation,
  others,
}

class CommentModerationService {
  final AmitySocialClient _socialClient;
  
  CommentModerationService(this._socialClient);
  
  // Flag a comment
  Future<bool> flagComment({
    required String commentId,
    required CommentFlagReason reason,
    String? customDescription,
  }) async {
    try {
      await _socialClient.newCommentRepository().flagComment(
        commentId: commentId,
        flagReason: _mapToAmityFlagReason(reason),
      );
      print('Comment flagged successfully');
      return true;
    } catch (error) {
      print('Failed to flag comment: $error');
      return false;
    }
  }

  // Usage example with contextual flagging
  Future<void> showFlagCommentDialog(BuildContext context, String commentId) async {
    final reasons = [
      'Harassment or Bullying',
      'Inappropriate Content',
      'Spam or Scams',
      'False Information'
    ];

    await showDialog(
      context: context,
      builder: (context) => AlertDialog(
        title: Text('Report Comment'),
        content: Column(
          mainAxisSize: MainAxisSize.min,
          children: reasons.map((reason) => 
            ListTile(
              title: Text(reason),
              onTap: () {
                Navigator.of(context).pop();
                flagComment(
                  commentId: commentId, 
                  reason: _mapReasonFromString(reason)
                );
              },
            )
          ).toList(),
        ),
      ),
    );
  }
}
```
</CodeGroup>

### Unflag a Comment

<CodeGroup>
```swift iOS
func unflagComment(commentId: String) async {
    do {
        let success = try await commentRepository.unflagComment(withId: commentId)
        
        if success {
            print("Comment unflagged successfully")
            showUnflagConfirmation()
        }
        
    } catch AmityError.notFlagged {
        print("Comment was not previously flagged by this user")
    } catch {
        print("Error unflagging comment: \(error)")
    }
}
```

```kotlin Android
fun unflagComment(comment: AmityComment) {
    comment.report()
        .unflag()
        .doOnComplete {
            println("Comment unflagged successfully")
            showUnflagConfirmation()
        }
        .doOnError { error ->
            when (error) {
                is AmityException.NotFlagged -> {
                    println("Comment was not previously flagged by this user")
                }
                else -> {
                    println("Error unflagging comment: ${error.message}")
                }
            }
        }
        .subscribe()
}
```

```typescript TypeScript
class CommentModerationService {
  
  // Unflag a comment
  async unflagComment(commentId: string): Promise<boolean> {
    try {
      const result = await CommentRepository.unflagComment(commentId);
      console.log('Comment unflagged successfully');
      return result;
    } catch (error) {
      console.error('Failed to unflag comment:', error);
      throw error;
    }
  }

  // Toggle comment flag status
  async toggleCommentFlag(
    commentId: string,
    reason: AmityContentFlagReason = AmityContentFlagReason.Others
  ): Promise<boolean> {
    try {
      const isFlagged = await this.isCommentFlaggedByMe(commentId);
      
      if (isFlagged) {
        return await this.unflagComment(commentId);
      } else {
        return await this.flagComment({ commentId, reason });
      }
    } catch (error) {
      console.error('Failed to toggle comment flag:', error);
      throw error;
    }
  }
}
```

```dart Flutter
class CommentModerationService {
  
  // Unflag a comment
  Future<bool> unflagComment(String commentId) async {
    try {
      await _socialClient.newCommentRepository().unflagComment(
        commentId: commentId,
      );
      print('Comment unflagged successfully');
      return true;
    } catch (error) {
      print('Failed to unflag comment: $error');
      return false;
    }
  }

  // Toggle comment flag status
  Future<bool> toggleCommentFlag(
    String commentId, {
    CommentFlagReason reason = CommentFlagReason.others
  }) async {
    try {
      final isFlagged = await isCommentFlaggedByMe(commentId);
      
      if (isFlagged) {
        return await unflagComment(commentId);
      } else {
        return await flagComment(commentId: commentId, reason: reason);
      }
    } catch (error) {
      print('Failed to toggle comment flag: $error');
      return false;
    }
  }
}
```
</CodeGroup>

### Check Comment Flag Status

<CodeGroup>
```swift iOS
func checkCommentFlagStatus(commentId: String) async {
    do {
        let isFlagged = try await commentRepository.isCommentFlaggedByMe(withId: commentId)
        
        if isFlagged {
            print("Comment is flagged by current user")
            showUnflagOption()
        } else {
            print("Comment is not flagged by current user")
            showFlagOption()
        }
        
    } catch {
        print("Error checking comment flag status: \(error)")
    }
}
```

```kotlin Android
fun checkCommentFlagStatus(comment: AmityComment) {
    val isFlagged = comment.isFlaggedByMe()
    val flagCount = comment.getFlagCount()
    
    if (isFlagged) {
        println("Comment is flagged by current user")
        showUnflagOption()
    } else {
        println("Comment is not flagged by current user")
        showFlagOption()
    }
    
    println("Total flag count: $flagCount")
}
```

```typescript TypeScript
class CommentModerationService {
  
  // Check if comment is flagged by current user
  async isCommentFlaggedByMe(commentId: string): Promise<boolean> {
    try {
      const result = await CommentRepository.isCommentFlaggedByMe(commentId);
      console.log(`Comment flagged by current user: ${result}`);
      return result;
    } catch (error) {
      console.error('Failed to check flag status:', error);
      throw error;
    }
  }

  // Setup UI based on comment flag status
  async setupCommentActionButtons(commentId: string): Promise<void> {
    try {
      const isFlagged = await this.isCommentFlaggedByMe(commentId);
      
      if (isFlagged) {
        console.log("Comment is flagged by current user");
        this.showUnflagOption();
      } else {
        console.log("Comment is not flagged by current user");
        this.showFlagOption();
      }
    } catch (error) {
      console.error('Error setting up comment action buttons:', error);
    }
  }
}
```

```dart Flutter
class CommentModerationService {
  
  // Check if comment is flagged by current user
  Future<bool> isCommentFlaggedByMe(String commentId) async {
    try {
      final result = await _socialClient.newCommentRepository()
          .isCommentFlaggedByMe(commentId: commentId);
      
      print('Comment flagged by current user: $result');
      return result;
    } catch (error) {
      print('Failed to check flag status: $error');
      return false;
    }
  }

  // Setup UI based on comment flag status
  Future<void> setupCommentActionButtons(String commentId) async {
    try {
      final isFlagged = await isCommentFlaggedByMe(commentId);
      
      if (isFlagged) {
        print("Comment is flagged by current user");
        showUnflagOption();
      } else {
        print("Comment is not flagged by current user");
        showFlagOption();
      }
    } catch (error) {
      print('Error setting up comment action buttons: $error');
    }
  }
}
```
</CodeGroup>

## Administrative Review

Flagged content automatically appears in the Social Plus Console for administrative review and action.

### Admin Console Integration
- **Flag Indicators**: Visual indicators show flagged content in the admin interface
- **Review Workflow**: Moderators can review flagged content and take appropriate action
- **Flag Validation**: Administrators can approve or dismiss user reports
- **Content Actions**: Delete, edit, or clear flags based on review outcomes

### Moderation Actions
- **Content Deletion**: Remove content that violates community guidelines
- **Flag Dismissal**: Clear inappropriate flags after review
- **User Actions**: Take action against users who repeatedly violate guidelines
- **Policy Updates**: Use flagging patterns to refine community guidelines

## Best Practices

<CardGroup cols={2}>
  <Card title="Clear Guidelines" icon="book">
    Provide clear community guidelines so users understand what to flag
  </Card>
  <Card title="Contextual Flagging" icon="target">
    Show relevant flag reasons based on content type and context
  </Card>
  <Card title="User Education" icon="graduation-cap">
    Educate users on appropriate use of the flagging system
  </Card>
  <Card title="Timely Review" icon="clock">
    Ensure prompt administrative review of flagged content
  </Card>
</CardGroup>

### Implementation Guidelines
- **Reason Selection**: Present the most relevant flag reasons for the content type
- **User Confirmation**: Always confirm flagging actions to prevent accidental reports
- **Status Feedback**: Provide clear feedback about flag status and outcomes
- **Admin Training**: Train moderators on consistent flag review and action

### UI/UX Considerations
- **Accessible Flagging**: Make flagging easily accessible but not prominent
- **Clear Labeling**: Use clear, understandable labels for flag reasons
- **Progressive Disclosure**: Show detailed reasons only when needed
- **Status Indicators**: Clearly indicate when content has been flagged by the user

## Error Handling

Implement comprehensive error handling for various flagging scenarios:

<CodeGroup>
```swift iOS
enum FlaggingError: Error {
    case alreadyFlagged
    case notFlagged
    case permissionDenied
    case contentNotFound
    case networkError
}

func handleFlaggingError(_ error: Error) {
    switch error {
    case AmityError.alreadyFlagged:
        showMessage("You have already reported this content")
    case AmityError.notFlagged:
        showMessage("This content was not previously flagged by you")
    case AmityError.permissionDenied:
        showMessage("You don't have permission to flag content")
    case AmityError.notFound:
        showMessage("Content not found or has been removed")
    case AmityError.networkError:
        showMessage("Network error. Please try again.")
    default:
        showMessage("An unexpected error occurred")
    }
}
```

```kotlin Android
fun handleFlaggingError(error: Throwable) {
    when (error) {
        is AmityException.AlreadyFlagged -> {
            showMessage("You have already reported this content")
        }
        is AmityException.NotFlagged -> {
            showMessage("This content was not previously flagged by you")
        }
        is AmityException.PermissionDenied -> {
            showMessage("You don't have permission to flag content")
        }
        is AmityException.NotFound -> {
            showMessage("Content not found or has been removed")
        }
        is AmityException.NetworkError -> {
            showMessage("Network error. Please try again.")
        }
        else -> {
            showMessage("An unexpected error occurred")
        }
    }
}
```

```typescript TypeScript
enum FlaggingErrorType {
  AlreadyFlagged = 'ALREADY_FLAGGED',
  NotFlagged = 'NOT_FLAGGED',
  PermissionDenied = 'PERMISSION_DENIED',
  ContentNotFound = 'CONTENT_NOT_FOUND',
  NetworkError = 'NETWORK_ERROR',
  UnknownError = 'UNKNOWN_ERROR'
}

class FlaggingErrorHandler {
  
  static handleError(error: any): string {
    const errorType = this.categorizeError(error);
    
    switch (errorType) {
      case FlaggingErrorType.AlreadyFlagged:
        return "You have already reported this content";
      case FlaggingErrorType.NotFlagged:
        return "This content was not previously flagged by you";
      case FlaggingErrorType.PermissionDenied:
        return "You don't have permission to flag content";
      case FlaggingErrorType.ContentNotFound:
        return "Content not found or has been removed";
      case FlaggingErrorType.NetworkError:
        return "Network error. Please try again.";
      default:
        return "An unexpected error occurred";
    }
  }
  
  private static categorizeError(error: any): FlaggingErrorType {
    // Categorize based on error properties
    if (error.code === 'ALREADY_FLAGGED') return FlaggingErrorType.AlreadyFlagged;
    if (error.code === 'NOT_FLAGGED') return FlaggingErrorType.NotFlagged;
    if (error.code === 'PERMISSION_DENIED') return FlaggingErrorType.PermissionDenied;
    if (error.code === 'NOT_FOUND') return FlaggingErrorType.ContentNotFound;
    if (error.message?.includes('network')) return FlaggingErrorType.NetworkError;
    
    return FlaggingErrorType.UnknownError;
  }
}
```

```dart Flutter
enum FlaggingErrorType {
  alreadyFlagged,
  notFlagged,
  permissionDenied,
  contentNotFound,
  networkError,
  unknownError
}

class FlaggingErrorHandler {
  
  static String handleError(dynamic error) {
    final errorType = _categorizeError(error);
    
    switch (errorType) {
      case FlaggingErrorType.alreadyFlagged:
        return "You have already reported this content";
      case FlaggingErrorType.notFlagged:
        return "This content was not previously flagged by you";
      case FlaggingErrorType.permissionDenied:
        return "You don't have permission to flag content";
      case FlaggingErrorType.contentNotFound:
        return "Content not found or has been removed";
      case FlaggingErrorType.networkError:
        return "Network error. Please try again.";
      default:
        return "An unexpected error occurred";
    }
  }
  
  static FlaggingErrorType _categorizeError(dynamic error) {
    final errorString = error.toString().toLowerCase();
    
    if (errorString.contains('already flagged')) {
      return FlaggingErrorType.alreadyFlagged;
    }
    if (errorString.contains('not flagged')) {
      return FlaggingErrorType.notFlagged;
    }
    if (errorString.contains('permission')) {
      return FlaggingErrorType.permissionDenied;
    }
    if (errorString.contains('not found')) {
      return FlaggingErrorType.contentNotFound;
    }
    if (errorString.contains('network') || errorString.contains('connection')) {
      return FlaggingErrorType.networkError;
    }
    
    return FlaggingErrorType.unknownError;
  }
}
```
</CodeGroup>

## Related Topics

<CardGroup cols={2}>
  <Card title="Content Moderation" href="../../../analytics-and-moderation/console/moderation/overview" icon="shield">
    Learn about comprehensive content moderation tools and workflows
  </Card>
  <Card title="Community Guidelines" href="../../core-concepts/community-management/guidelines" icon="book">
    Establish clear community guidelines for content standards
  </Card>
  <Card title="User Permissions" href="../../core-concepts/user-management/user-permissions" icon="key">
    Understand permission systems for moderation capabilities
  </Card>
  <Card title="Admin Console" href="../../../analytics-and-moderation/console/overview" icon="desktop">
    Explore administrative tools for content review and management
  </Card>
</CardGroup>
