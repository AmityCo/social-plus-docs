---
title: "Manage Events"
description: "Update, delete, and query scheduled events"
---

# Manage Events

Manage event lifecycle including updates, deletions, and queries to discover upcoming and past events across communities and user timelines.

## Querying Events

### Get Event by ID

Retrieve a single event using its ID with real-time updates:

<CodeGroup>
```swift iOS
let eventObject = AmityEventRepository.shared.getEvent(id: "event-123")

eventObject.observe { event in
    print("Event: \(event.title)")
    print("Status: \(event.status)")
    print("RSVP Count: \(event.rsvpCount)")
}
```

```kotlin Android
val eventLiveObject = AmityEventRepository.getEvent(id = "event-123")

eventLiveObject.observe()
    .subscribe { event ->
        Log.d("Event", "Title: ${event.title}")
        Log.d("Event", "Status: ${event.status}")
        Log.d("Event", "RSVP Count: ${event.rsvpCount}")
    }
```

```typescript TypeScript
import { EventRepository } from '@amityco/ts-sdk';

const unsubscribe = EventRepository.getEvent(
    "event-123",
    ({ data: event, loading, error }) => {
        if (event) {
            console.log("Event:", event.title);
            console.log("Status:", event.status);
            console.log("RSVP Count:", event.rsvpCount);
        }
    }
);

// Call unsubscribe() when done to clean up
```
</CodeGroup>

### Query Events by Community

Get all events for a specific community:

<CodeGroup>
```swift iOS
let options = AmityEventQueryOptions(
    originType: .community,
    originId: "community-123",
    sortBy: .startTime,
    orderBy: .ascending
)

let eventsCollection = AmityEventRepository.shared.getEvents(options: options)

eventsCollection.observe { events in
    events.forEach { event in
        print("Event: \(event.title) at \(event.startTime)")
    }
}
```

```kotlin Android
val eventsCollection = AmityEventRepository.getEvents(
    builder = AmityEventQueryBuilder()
        .originType(AmityEventOriginType.COMMUNITY)
        .originId("community-123")
        .sortBy(AmityEventSortOption.START_TIME)
        .orderBy(AmityEventOrderOption.ASCENDING)
)

eventsCollection.observe()
    .subscribe { events ->
        events.forEach { event ->
            Log.d("Event", "Title: ${event.title} at ${event.startTime}")
        }
    }
```

```typescript TypeScript
import { EventRepository, AmityEventOriginType, AmityEventSortOption, AmityEventOrderOption } from '@amityco/ts-sdk';

const unsubscribe = EventRepository.getEvents(
    {
        originType: AmityEventOriginType.Community,
        originId: "community-123",
        sortBy: AmityEventSortOption.StartTime,
        orderBy: AmityEventOrderOption.Ascending
    },
    ({ data: events, loading, error }) => {
        if (events) {
            events.forEach(event => {
                console.log(`Event: ${event.title} at ${event.startTime}`);
            });
        }
    }
);

// Call unsubscribe() when done to clean up
```
</CodeGroup>

### Query Upcoming Events

Filter events by status to get upcoming scheduled events:

<CodeGroup>
```swift iOS
let options = AmityEventQueryOptions(
    originType: .community,
    originId: "community-123",
    status: .scheduled,
    sortBy: .startTime,
    orderBy: .ascending
)

let upcomingEvents = AmityEventRepository.shared.getEvents(options: options)
```

```kotlin Android
val upcomingEvents = AmityEventRepository.getEvents(
    builder = AmityEventQueryBuilder()
        .originType(AmityEventOriginType.COMMUNITY)
        .originId("community-123")
        .status(AmityEventStatus.SCHEDULED)
        .sortBy(AmityEventSortOption.START_TIME)
        .orderBy(AmityEventOrderOption.ASCENDING)
)
```

```typescript TypeScript
import { EventRepository, AmityEventOriginType, AmityEventStatus, AmityEventSortOption, AmityEventOrderOption } from '@amityco/ts-sdk';

const unsubscribe = EventRepository.getEvents(
    {
        originType: AmityEventOriginType.Community,
        originId: "community-123",
        status: AmityEventStatus.Scheduled,
        sortBy: AmityEventSortOption.StartTime,
        orderBy: AmityEventOrderOption.Ascending
    },
    ({ data: events, loading, error }) => {
        console.log("Upcoming events:", events);
    }
);
```
</CodeGroup>

### Query User's Events

Get events where user has RSVP'd:

<CodeGroup>
```swift iOS
let options = AmityEventQueryOptions(
    userId: "user-123",
    onlyAttendee: true,
    sortBy: .startTime,
    orderBy: .ascending
)

let myEvents = AmityEventRepository.shared.getEvents(options: options)
```

```kotlin Android
val myEvents = AmityEventRepository.getEvents(
    builder = AmityEventQueryBuilder()
        .userId("user-123")
        .onlyAttendee(true)
        .sortBy(AmityEventSortOption.START_TIME)
        .orderBy(AmityEventOrderOption.ASCENDING)
)
```

```typescript TypeScript
import { EventRepository, AmityEventSortOption, AmityEventOrderOption } from '@amityco/ts-sdk';

const unsubscribe = EventRepository.getEvents(
    {
        userId: "user-123",
        onlyAttendee: true,
        sortBy: AmityEventSortOption.StartTime,
        orderBy: AmityEventOrderOption.Ascending
    },
    ({ data: events, loading, error }) => {
        console.log("My events:", events);
    }
);
```
</CodeGroup>

### Filter by Event Type

Query only virtual or in-person events:

<CodeGroup>
```swift iOS
let options = AmityEventQueryOptions(
    originType: .community,
    originId: "community-123",
    type: .virtual,
    sortBy: .createdAt,
    orderBy: .descending
)

let virtualEvents = AmityEventRepository.shared.getEvents(options: options)
```

```kotlin Android
val virtualEvents = AmityEventRepository.getEvents(
    builder = AmityEventQueryBuilder()
        .originType(AmityEventOriginType.COMMUNITY)
        .originId("community-123")
        .type(AmityEventType.VIRTUAL)
        .sortBy(AmityEventSortOption.CREATED_AT)
        .orderBy(AmityEventOrderOption.DESCENDING)
)
```

```typescript TypeScript
import { EventRepository, AmityEventOriginType, AmityEventType, AmityEventSortOption, AmityEventOrderOption } from '@amityco/ts-sdk';

const unsubscribe = EventRepository.getEvents(
    {
        originType: AmityEventOriginType.Community,
        originId: "community-123",
        type: AmityEventType.Virtual,
        sortBy: AmityEventSortOption.CreatedAt,
        orderBy: AmityEventOrderOption.Descending
    },
    ({ data: events, loading, error }) => {
        console.log("Virtual events:", events);
    }
);
```
</CodeGroup>

## Query Parameters

<AccordionGroup>
  <Accordion title="originType" icon="sitemap">
    **Type:** `AmityEventOriginType`  
    **Required:** No  
    **Values:** `community` | `user`
    
    Filter events by their origin type.
  </Accordion>
  
  <Accordion title="originId" icon="fingerprint">
    **Type:** `string`  
    **Required:** No (required if originType is set)
    
    Filter events by specific community or user ID.
  </Accordion>
  
  <Accordion title="status" icon="signal">
    **Type:** `AmityEventStatus`  
    **Required:** No  
    **Values:** `scheduled` | `live` | `ended` | `cancelled`
    
    Filter events by their current status.
  </Accordion>
  
  <Accordion title="type" icon="tag">
    **Type:** `AmityEventType`  
    **Required:** No  
    **Values:** `virtual` | `in_person`
    
    Filter events by format type.
  </Accordion>
  
  <Accordion title="userId" icon="user">
    **Type:** `string`  
    **Required:** No
    
    Filter events by creator or attendee.
  </Accordion>
  
  <Accordion title="onlyAttendee" icon="user-check">
    **Type:** `boolean`  
    **Required:** No  
    **Default:** `false`
    
    When true and userId is set, returns only events where user has RSVP'd.
  </Accordion>
  
  <Accordion title="sortBy" icon="sort">
    **Type:** `AmityEventSortOption`  
    **Required:** No  
    **Values:** `startTime` | `createdAt`  
    **Default:** `startTime`
    
    Sort events by start time or creation date.
  </Accordion>
  
  <Accordion title="orderBy" icon="arrow-down-a-z">
    **Type:** `AmityEventOrderOption`  
    **Required:** No  
    **Values:** `ascending` | `descending`  
    **Default:** `ascending`
    
    Sort order direction.
  </Accordion>
</AccordionGroup>

## Updating Events

Update event details (creator or moderator only):

<CodeGroup>
```swift iOS
Task { @MainActor in
    do {
        let options = AmityEventUpdateOptions(
            title: "Updated Event Title",
            description: "Updated description with new details",
            location: "New Location, 456 Oak Ave",
            startTime: Date()
        )
        
        let updatedEvent = try await AmityEventRepository.shared.updateEvent(
            id: "event-123",
            options: options
        )
        print("Event updated: \(updatedEvent.title)")
    } catch {
        print("Failed to update event: \(error)")
    }
}
```

```kotlin Android
AmityEventRepository.updateEvent(
    id = "event-123",
    options = AmityEventUpdateOptions()
        .setTitle("Updated Event Title")
        .setDescription("Updated description with new details")
        .setLocation("New Location, 456 Oak Ave")
        .setStartTime("2025-04-20T15:00:00Z")
).subscribe(
    onSuccess = { event ->
        Log.d("Event", "Updated: ${event.title}")
    },
    onError = { error ->
        Log.e("Event", "Failed to update", error)
    }
)
```

```typescript TypeScript
import { EventRepository } from '@amityco/ts-sdk';

try {
    const { data: updatedEvent } = await EventRepository.updateEvent("event-123", {
        title: "Updated Event Title",
        description: "Updated description with new details",
        location: "New Location, 456 Oak Ave",
        startTime: "2025-04-20T15:00:00Z"
    });
    console.log("Event updated:", updatedEvent.title);
} catch (error) {
    console.error("Failed to update event:", error);
}
```
</CodeGroup>

### Update Event Cover Image

<CodeGroup>
```swift iOS
// Upload new image
let newImageData = UIImage(named: "new-cover")?.jpegData(compressionQuality: 0.8)
let newImageFile = try await AmityFileRepository.shared.uploadImage(newImageData!)

// Update event with new cover
let options = AmityEventUpdateOptions(
    coverImageFileId: newImageFile.fileId
)

let updatedEvent = try await AmityEventRepository.shared.updateEvent(
    id: "event-123",
    options: options
)
```

```kotlin Android
// Upload new image
val newImageFile = AmityFileRepository.uploadImage(newImageUri).blockingGet()

// Update event with new cover
val updatedEvent = AmityEventRepository.updateEvent(
    id = "event-123",
    options = AmityEventUpdateOptions()
        .setCoverImageFileId(newImageFile.fileId)
).blockingGet()
```

```typescript TypeScript
import { EventRepository, FileRepository } from '@amityco/ts-sdk';

// Upload new image
const { data: newImageFile } = await FileRepository.uploadImage(newImageBlob);

// Update event with new cover
const { data: updatedEvent } = await EventRepository.updateEvent("event-123", {
    coverImageFileId: newImageFile.fileId
});
```
</CodeGroup>

## Deleting Events

Delete an event (creator or moderator only):

<CodeGroup>
```swift iOS
Task { @MainActor in
    do {
        try await AmityEventRepository.shared.deleteEvent(id: "event-123")
        print("Event deleted successfully")
    } catch {
        print("Failed to delete event: \(error)")
    }
}
```

```kotlin Android
AmityEventRepository.deleteEvent(id = "event-123")
    .subscribe(
        onComplete = {
            Log.d("Event", "Deleted successfully")
        },
        onError = { error ->
            Log.e("Event", "Failed to delete", error)
        }
    )
```

```typescript TypeScript
import { EventRepository } from '@amityco/ts-sdk';

try {
    await EventRepository.deleteEvent("event-123");
    console.log("Event deleted successfully");
} catch (error) {
    console.error("Failed to delete event:", error);
}
```
</CodeGroup>

<Warning>
**Permanent Action**: Deleting an event is permanent and cannot be undone. All associated RSVPs and discussions will also be affected.
</Warning>

## Permission Checks

Before updating or deleting events:

<CodeGroup>
```swift iOS
// Check if user can manage community events
let canManage = await AmityClient.shared.hasPermission(
    .manageCommunityEvents,
    communityId: event.originId
)

// Check if user can delete any event
let canDelete = await AmityClient.shared.hasPermission(
    .deleteEvent
)

// Check if user is event creator
let isCreator = event.userId == AmityClient.shared.currentUserId
```

```kotlin Android
// Check if user can manage community events
val canManage = AmityClient.hasPermission(
    AmityPermission.MANAGE_COMMUNITY_EVENTS,
    communityId = event.originId
)

// Check if user can delete any event
val canDelete = AmityClient.hasPermission(
    AmityPermission.DELETE_EVENT
)

// Check if user is event creator
val isCreator = event.userId == AmityClient.getCurrentUserId()
```

```typescript TypeScript
// Check if user can manage community events
const canManage = await client.hasPermission(
    AmityPermission.MANAGE_COMMUNITY_EVENTS,
    { communityId: event.originId }
);

// Check if user can delete any event
const canDelete = await client.hasPermission(
    AmityPermission.DELETE_EVENT
);

// Check if user is event creator
const isCreator = event.userId === client.currentUserId;
```
</CodeGroup>

## Common Patterns

### Display Upcoming Events

```typescript
import { EventRepository, AmityEventOriginType, AmityEventStatus, AmityEventSortOption, AmityEventOrderOption } from '@amityco/ts-sdk';

// Get and display next 5 upcoming community events
const unsubscribe = EventRepository.getEvents(
    {
        originType: AmityEventOriginType.Community,
        originId: communityId,
        status: AmityEventStatus.Scheduled,
        sortBy: AmityEventSortOption.StartTime,
        orderBy: AmityEventOrderOption.Ascending
    },
    ({ data: events, loading, error }) => {
        if (events) {
            const next5 = events.slice(0, 5);
            displayEvents(next5);
        }
    }
);
```

### Event History

```typescript
import { EventRepository, AmityEventOriginType, AmityEventStatus, AmityEventSortOption, AmityEventOrderOption } from '@amityco/ts-sdk';

// Get past events for archiving
const unsubscribe = EventRepository.getEvents(
    {
        originType: AmityEventOriginType.Community,
        originId: communityId,
        status: AmityEventStatus.Ended,
        sortBy: AmityEventSortOption.StartTime,
        orderBy: AmityEventOrderOption.Descending
    },
    ({ data: events, loading, error }) => {
        if (events) {
            displayEventHistory(events);
        }
    }
);
```

### My Events Calendar

```typescript
import { EventRepository, AmityEventSortOption, AmityEventOrderOption } from '@amityco/ts-sdk';

// Get all user's events (as creator or attendee)
const unsubscribe = EventRepository.getEvents(
    {
        userId: currentUserId,
        onlyAttendee: true,
        sortBy: AmityEventSortOption.StartTime,
        orderBy: AmityEventOrderOption.Ascending
    },
    ({ data: events, loading, error }) => {
        if (events) {
            populateCalendar(events);
        }
    }
);
```

## Best Practices

<AccordionGroup>
  <Accordion title="Efficient Queries" icon="gauge-high">
    Optimize event queries for performance:
    
    - Use specific filters to reduce result set
    - Implement pagination for large collections
    - Cache frequently accessed events
    - Unsubscribe from live collections when not needed
  </Accordion>
  
  <Accordion title="Update Handling" icon="arrows-rotate">
    Handle event updates gracefully:
    
    - Validate changes before submission
    - Preserve unchanged fields
    - Notify attendees of significant changes
    - Handle concurrent edits appropriately
  </Accordion>
  
  <Accordion title="Permission Validation" icon="shield">
    Always check permissions before actions:
    
    ```typescript
    if (isCreator || canManage) {
        // Show edit/delete options
    }
    ```
  </Accordion>
</AccordionGroup>

## Error Handling

<CodeGroup>
```swift iOS
do {
    try await AmityEventRepository.shared.deleteEvent(id: eventId)
} catch AmityError.permissionDenied {
    showError("You don't have permission to delete this event")
} catch AmityError.notFound {
    showError("Event not found")
} catch {
    showError("Failed to delete event: \(error.localizedDescription)")
}
```

```kotlin Android
AmityEventRepository.deleteEvent(id = eventId)
    .subscribe(
        onComplete = { /* Success */ },
        onError = { error ->
            when (error) {
                is AmityException.PermissionDenied -> {
                    showError("You don't have permission to delete this event")
                }
                is AmityException.NotFound -> {
                    showError("Event not found")
                }
                else -> {
                    showError("Failed to delete event: ${error.message}")
                }
            }
        }
    )
```

```typescript TypeScript
import { EventRepository } from '@amityco/ts-sdk';

try {
    await EventRepository.deleteEvent(eventId);
} catch (error) {
    if (error.code === 'PERMISSION_DENIED') {
        showError("You don't have permission to delete this event");
    } else if (error.code === 'NOT_FOUND') {
        showError("Event not found");
    } else {
        showError(`Failed to delete event: ${error.message}`);
    }
}
```
</CodeGroup>

## Related Topics

<CardGroup cols={3}>
  <Card title="Create Events" href="./create-event" icon="plus">
    Schedule new events
  </Card>
  <Card title="Event RSVP" href="./event-rsvp" icon="user-check">
    Manage event responses
  </Card>
  <Card title="Events Overview" href="./overview" icon="book">
    Learn about event concepts
  </Card>
</CardGroup>
